<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
   xmlns:rich="http://richfaces.org/rich">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
</h:head>

<h:body>
	
<!-- 

	<h:form id="tmp1">
						<h:inputText id="login" value="regBean.login" maxlength="100"
						size="50" required="true">
					</h:inputText>
        <h:selectOneMenu value="#{selectsBean.currentType}" valueChangeListener="#{selectsBean.valueChanged}">
            <f:selectItems value="#{selectsBean.firstList}" />
            <a4j:ajax event="valueChange" render="second2" execute="@this" />
        </h:selectOneMenu>
        <a4j:outputPanel id="second2" layout="block">
            <h:selectOneMenu value="#{selectsBean.currentType}" rendered="#{not empty selectsBean.currentType}">
                <f:selectItems value="#{selectsBean.secondList}" />
            </h:selectOneMenu>
        </a4j:outputPanel>
    </h:form>
                <h:outputScript library="js" name="jquery.maskedinput-1.2.2.js"/>
-->
    <h:outputScript name="jquery-1.6.4.min.js" library="js" />
    <h:outputScript name="jquery.maskedinput-1.3.js" library="js" />
        
	<script>
		jQuery(function($){
			$("#registerForm\\:phone1").mask("+(999) 99 9999999");
			$("#registerForm\\:phone2").mask("+(999) 99 9999999");
			$("#registerForm\\:fax").mask("+(999) 99 9999999");
			});
	</script>

				
    
    
<h:form id="registerForm">
	<div class="pageTitle">
		<h:outputText value="#{msg['register.title']}"/>
	</div>
	<br/>
	
	<rich:messages />
	<div class="center">
		<h:panelGrid columns="2" styleClass="form" headerClass="tableHeader"
			footerClass="tableFooter" rowClasses="tableRowOdd, tableRowEven">
			<f:facet name="header">
				<h:outputFormat value="#{msg.registrationBoxTitle}">
					<f:param value="*" />
				</h:outputFormat>
			</f:facet>

			<f:facet name="footer">
				<h:panelGroup>
					<h:commandButton value="#{msg['submit']}"
						action="#{regBean.register}" />
					<h:commandButton value="#{msg['reset']}" type="reset" />
				</h:panelGroup>
			</f:facet> 

			<h:outputLabel for="login" value="#{msg['register.form.login']}" />
			<h:panelGroup>
				<h:inputText id="login" value="#{regBean.login}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<h:outputText value=" " />
				<rich:message for="login" styleClass="formUserError" />
			</h:panelGroup>

			<h:outputLabel for="password" value="#{msg['register.form.pass']}" />
			<h:panelGroup>
				<h:inputSecret id="password" value="#{regBean.password}"
					maxlength="64" size="40" required="true" redisplay="true">
					<f:validateLength minimum="6" />
				</h:inputSecret>
				<f:verbatim>
					<br />
				</f:verbatim>
				<h:outputText value=" " />
				<rich:message for="password" styleClass="formUserError" />
			</h:panelGroup>

			<h:outputLabel for="countries" value="*#{msg['register.form.country']}" />
			<h:panelGroup>
				<rich:select value="#{regBean.countryId}" id="countries" 
					valueChangeListener="#{regBean.valueChanged}"
					enableManualInput="true" defaultLabel="start typing for select" 
					render="second cities">
				        <f:selectItem itemLabel="- Select a Country - " itemValue="0"/>
				        <f:selectItems value="#{regBean.countries}" var="country" itemValue="#{country.id}" itemLabel="#{country.name}"/>
				        <a4j:ajax event="change" render="second" />
				</rich:select> 
				<f:verbatim>
						<br />
				</f:verbatim>
				<rich:message for="countries" styleClass="formUserError" />
			</h:panelGroup>
			
			<h:outputLabel for="cities" value="*#{msg['register.form.city']}" />
			<a4j:outputPanel id="second"  layout="block">
				<rich:select value="#{regBean.cityId}" id="cities"
					enableManualInput="true" defaultLabel="start typing for select"> 
				<!-- 
				render="second cities"
				valueChangeListener="#{regBean.valueChanged}"
				 -->
			        <f:selectItem itemLabel="- Select a City - " itemValue="0"/>    
			        <f:selectItems value="#{regBean.cities}" var="city" 
			        	itemValue="#{city.id}" itemLabel="#{city.name}"/>
				 </rich:select>
		
				<f:verbatim>
						<br />
				</f:verbatim>
				<rich:message for="cities" styleClass="formUserError" />
	        </a4j:outputPanel>
	        
	        <h:outputLabel for="organizationName" value="#{msg['register.form.organization.name']}" />
			<h:panelGroup>
				<h:inputText id="organizationName" value="#{regBean.contactInfo.regInfo.organizationName}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="organizationName" styleClass="formUserError" />
			</h:panelGroup>
	        
	        <h:outputLabel for="postIndex" value="#{msg['register.form.postindex']}" />
			<h:panelGroup>
				<h:inputText id="postIndex" value="#{regBean.contactInfo.regInfo.postIndex}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="postIndex" styleClass="formUserError" />
			</h:panelGroup>
	        
	        <h:outputLabel for="address" value="#{msg['register.form.adress']}" />
			<h:panelGroup>
				<h:inputText id="address" value="#{regBean.contactInfo.regInfo.address}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="address" styleClass="formUserError" />
			</h:panelGroup>
	        
	        <h:outputLabel for="phone1" value="#{msg['register.form.phone1']}" />
			<h:panelGroup>
				<h:inputText id="phone1" value="#{regBean.contactInfo.phone}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="phone1" styleClass="formUserError" />
			</h:panelGroup>
	        
	        <h:outputLabel for="phone2" value="#{msg['register.form.phone2']}" />
			<h:panelGroup>
				<h:inputText id="phone2" value="#{regBean.contactInfo.phone2}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="phone2" styleClass="formUserError" />
			</h:panelGroup>
			
	        <h:outputLabel for="fax" value="#{msg['register.form.phone3']}" />
			<h:panelGroup>
				<h:inputText id="fax" value="#{regBean.contactInfo.fax}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="fax" styleClass="formUserError" />
			</h:panelGroup>
			
	        <h:outputLabel for="email" value="#{msg['register.form.email']}" />
			<h:panelGroup>
				<h:inputText id="email" value="#{regBean.contactInfo.email}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="email" styleClass="formUserError" />
			</h:panelGroup>
			
	        <h:outputLabel for="url" value="#{msg['register.form.site.url']}" />
			<h:panelGroup>
				<h:inputText id="url" value="#{regBean.contactInfo.regInfo.url}" maxlength="100"
					size="40">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="url" styleClass="formUserError" />
			</h:panelGroup>
			
	        <h:outputLabel for="activity" value="#{msg['register.form.activity']}" />
			<h:panelGroup>
				<rich:select value="#{regBean.activityId}" id="activities" defaultLabel="start typing"> 
			        <f:selectItems value="#{regBean.activities}" var="activity" 
			        	itemValue="#{activity.id}" itemLabel="#{activity.name}"/>
				</rich:select>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="activities" styleClass="formUserError" />
			</h:panelGroup>

	        <h:outputLabel for="contactName" value="#{msg['register.form.contact.name']}" />
			<h:panelGroup>
				<h:inputText id="contactName" value="#{regBean.contactInfo.name}" maxlength="100"
					size="40">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="contactName" styleClass="formUserError" />
			</h:panelGroup>
			
			
	        <h:outputLabel for="unp" value="#{msg['register.form.unp']}" />
			<h:panelGroup>
				<h:inputText id="unp" value="#{regBean.contactInfo.regInfo.unp}" maxlength="100"
					size="40" required="true">
				</h:inputText>
				<f:verbatim>
					<br />
				</f:verbatim>
				<rich:message for="unp" styleClass="formUserError" />
			</h:panelGroup>
			
		</h:panelGrid>
	</div>
</h:form>
</h:body>
</html>
