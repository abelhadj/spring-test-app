<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
	  xmlns:rich="http://richfaces.org/rich">
		
  <ui:composition template="/baseTemplate.xhtml">
       
        <ui:define name="content">
        <script>
	  		function PopupCenter(pageURL, title, w, h) {
	  			var left = (screen.width/2)-(w/2);
	  			var top = (screen.height/2)-(h/2);
	  			var targetWin = window.open (pageURL, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top='+top+', left='+left);
	  			targetWin.focus();
  			} 
		</script>
	       		<rich:dataTable id="carsTable" value="#{carsListBean.carsList}"  rowKeyVar="key" var="c" rows="40" >
	       		
       				  <rich:column style="text-align:center" >
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.loading']}" />
	                      </f:facet>    
	                      <h:outputText value="#{c.loading}"/>
	                  </rich:column>
       				  <rich:column style="text-align:center" >
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.unloading']}" />
	                      </f:facet>    
	                      <h:outputText value="#{c.unloading}"/>
	                  </rich:column>
       				  <rich:column>
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.date']}" />
	                      </f:facet>    
	                      <h:outputText value="#{c.startDate}" converter="DateTimeConverter" />
	                  </rich:column>
       				  <rich:column>
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.cargo.desc']}" />
	                      </f:facet>
	                      <h:outputText value="#{c.volume} m&lt;sup&gt;3&lt;/sup&gt; , &lt;br /&gt; #{c.weight} t"  escape="false"/>
	                  </rich:column>
       				  <rich:column style="text-align:center">
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.truck.type']}" />
	                      </f:facet>    
	                      <h:outputText value="#{c.truckType.name}"/>
	                  </rich:column>
       				  <rich:column>
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.notes']}" />
	                      </f:facet>    
	                      <h:outputText value="#{c.notesForUnregistered}"/>
	                  </rich:column>
	                  <rich:column>
                	      <f:facet name="header" >
	                          <h:outputText value="#{msg['carslist.table.customer']}" />
	                      </f:facet>   
							<a href="#" onclick="PopupCenter('carContacts.xhtml?id=#{key}', 'myPop1',500,520);return false;"> #{msg['carslist.table.customer']} </a>
	                  </rich:column>
	            </rich:dataTable>

        </ui:define>
        
  </ui:composition>
</html>
